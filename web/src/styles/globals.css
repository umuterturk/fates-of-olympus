@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {

  html,
  body {
    @apply font-body;
    /* Disable scrolling */
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
    /* Disable text selection */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    /* Disable touch callout (long press) */
    -webkit-touch-callout: none;
    /* Prevent pull-to-refresh */
    overscroll-behavior: none;
  }

  #root {
    height: 100%;
    overflow: hidden;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display;
  }

  /* Mobile font size adjustments */
  @media (max-width: 640px) {
    html {
      font-size: 14px;
    }
  }
}

@layer components {

  /* Card styles */
  .card {
    @apply relative rounded-lg overflow-hidden;
    @apply bg-card-bg border-2 border-card-border;
    @apply transition-transform duration-200;
    perspective: 1000px;
  }

  /* Disable hover effects on mobile */
  @media (hover: hover) {
    .card:hover {
      @apply border-olympus-gold;
      transform: translateY(-4px);
    }
  }

  .card-power {
    @apply absolute top-1 left-1;
    @apply w-4 h-4;
    @apply flex items-center justify-center;
    @apply font-bold text-xs text-black;
    background: linear-gradient(145deg,
        rgba(255, 235, 130, 0.95) 0%,
        rgba(255, 215, 0, 0.9) 25%,
        rgba(212, 175, 55, 0.85) 50%,
        rgba(184, 134, 11, 0.9) 75%,
        rgba(139, 101, 8, 0.95) 100%);
    transform: rotate(45deg);
    filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.4));
    box-shadow: inset 1px 1px 2px rgba(255, 255, 255, 0.4), inset -1px -1px 2px rgba(0, 0, 0, 0.2);
  }

  .card-power>* {
    transform: rotate(-45deg);
  }

  /* Mobile card adjustments */
  @media (max-width: 640px) {
    .card-power {
      @apply w-3 h-3 text-[9px] top-0.5 left-0.5;
    }
  }

  /* Location container - Snap style vertical layout */
  .location-container {
    @apply overflow-visible;
  }

  /* Location card wrapper - contains border and content */
  .location-card-wrapper {
    position: relative;
    /* Gold border background - slightly larger than content */
    background: linear-gradient(135deg,
        #d4af37 0%,
        #f4d03f 25%,
        #d4af37 50%,
        #b8860b 75%,
        #d4af37 100%);
    padding: 3px;
    clip-path: polygon(25% 0%, 75% 0%,
        100% 25%, 100% 75%,
        75% 100%, 25% 100%,
        0% 75%, 0% 25%);
  }

  .location-card-highlight {
    /* Brighter gold when highlighted */
    background: linear-gradient(135deg,
        #ffd700 0%,
        #ffec8b 25%,
        #ffd700 50%,
        #ffd700 75%,
        #ffec8b 100%);
    filter: drop-shadow(0 0 12px rgba(255, 215, 0, 0.9));
  }

  /* Location card inner - the actual card content */
  .location-card-inner {
    @apply relative w-full h-full;
    background: linear-gradient(135deg,
        rgba(88, 28, 135, 0.95) 0%,
        rgba(126, 34, 206, 0.9) 50%,
        rgba(88, 28, 135, 0.95) 100%);
    /* Diamond/octagon clip path - matches wrapper */
    clip-path: polygon(25% 0%, 75% 0%,
        100% 25%, 100% 75%,
        75% 100%, 25% 100%,
        0% 75%, 0% 25%);
  }

  /* Power display */
  .power-display {
    @apply px-3 py-1 rounded-full;
    @apply font-bold text-lg;
  }

  @media (max-width: 640px) {
    .power-display {
      @apply px-2 py-0.5 text-sm;
    }
  }

  .power-winning {
    @apply bg-green-600;
  }

  .power-losing {
    @apply bg-red-600;
  }

  .power-tied {
    @apply bg-yellow-600;
  }

  /* Hex power badge */
  .hex-power-badge {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
  }

  /* Mobile tooltip modal */
  .tooltip-modal-backdrop {
    @apply fixed inset-0 bg-black/70 z-[600] flex items-center justify-center p-4;
  }

  .tooltip-modal {
    @apply bg-gradient-to-b from-gray-900 to-gray-950 border-2 border-olympus-gold rounded-lg shadow-2xl;
    @apply max-w-[280px] w-full max-h-[80vh] overflow-y-auto;
  }
}

@layer utilities {

  /* Card flip animation */
  .flip-card {
    transform-style: preserve-3d;
    transition: transform 0.6s;
  }

  .flip-card.flipped {
    transform: rotateY(180deg);
  }

  .flip-card-front,
  .flip-card-back {
    backface-visibility: hidden;
  }

  .flip-card-back {
    transform: rotateY(180deg);
  }

  /* Pending card glow animation - uses box-shadow to avoid transform conflicts */
  .pending-card-glow {
    animation: pendingGlow 2s ease-in-out infinite;
  }

  @keyframes pendingGlow {

    0%,
    100% {
      box-shadow: 0 0 8px 2px rgba(234, 179, 8, 0.3);
    }

    50% {
      box-shadow: 0 0 16px 4px rgba(234, 179, 8, 0.6);
    }
  }
}